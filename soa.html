<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>OCR - Translate Mashup</title>
    <script
	src="https://code.jquery.com/jquery-3.2.1.js"
  integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
  crossorigin="anonymous"></script>
    </script>
  </head>
  <body>
    <input type="text" name="url" id="url" value="">
    <button type="button" name="go" id="go" onclick="goOCR()">Go</button>
    <div id="ocr_result">
    </div><br>
    <div id="translate_result">
    </div>
    <script type="text/javascript">

    function goOCR() {
      var urlText = $('#url').val();
      var ocrUrl =
      "https://api.ocr.space/parse/imageur..." + urlText;
      console.log(ocrUrl);
      $.ajax({
                url: ocrUrl,
                method: 'GET'
              }).then(function(response) {
                  console.log(response.ParsedResults[0].ParsedText);
                  $('#ocr_result').text(response.ParsedResults[0].ParsedText);
                  goTranslate(response.ParsedResults[0].ParsedText);
              });
    }

    function goTranslate(sourceText) {
      var translateUrl =
      "https://translate.yandex.net/api/v1..."
      + sourceText +
      "&lang=en-th&key=trnsl.1.1.20170302T082212Z.de2cb5223ff957ca.c3532addd388e4cc2491a4d1d42f3c7fae3da60e";
      $.ajax({
                url: translateUrl,
                method: 'GET'
              }).then(function(response) {
                  console.log(response.text[0]);
                  $('#translate_result').text(response.text[0]);
              });
    }
    </script>
  </body>
</html>
